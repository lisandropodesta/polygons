<!doctype html>
<html>
	<head>
		<title>Canvas Polygon Test</title>
		<script src="../build/build.js"></script>
		<style>
			canvas{
			}
		</style>
	</head>
	<body>
		<canvas id="canvas1" height="450" width="600"></canvas>
		<canvas id="canvas2" height="450" width="600"></canvas>
		<canvas id="canvas3" height="450" width="600"></canvas>

		<script>

			var polygons = require( "polygons" );

			var sample1 = [
				{
					shape: 'rect',
					position: [ 10, 10 ],
					width: 200,
					height: 100,
					fillStyle: 'green',
					strokeStyle: 'blue',
					lineWidth: 2,
					rotationDeg: 5,
					refPointX: 110,
					refPointY: 60
				},
				{
					shape: 'circle',
					position: [ 110, 60 ],
					radius: 40,
					fillStyle: 'white'
				},
				{
					shape: 'arc',
					position: [ 170, 60 ],
					radius: 20,
					startAngleDeg: 0,
					endAngleDeg: 90,
					fillStyle: null
				}
			];
			polygons.paint( sample1, 'canvas1' );

			var sample2 =
			{
				//
				// Transformation params
				//
				scale: 1,
				offsetX: 0,
				offsetY: 0,
				rotationDeg: 45,
				refPointX: 100,
				refPointY: 100,

				fillStyle: "blue",
				strokeStyle: "red",
				lineWidth: 4,
				refPoints:
				[
					{ name: "p1", x: 50, y: 50 },
					{ name: "p2", x: 200, y: 200 }
				],
				shape: 'polygon',
				points:
				[
					[ 10, 300 ],
					[ "@30", "@30" ],
					[ "@-30", "@0" ]
				],
				childs: [
					{
						fillStyle: null,
						shape: 'polygon',
						points:
						[
							"p1",
							[ "@100", "@0" ],
							{ dx: 0, dy: 100 },
							{ ref: "p1", dx: 0, y: 150 },
							"p1"
						]
					},
					{
						refPoints:
						[
							{ name: "p3", x: 75, y: 200 }
						],
						shape: 'polygon',
						points:
						[
							"p2",
							[ "@50", "@0" ],
							[ "@0", "@50" ],
							[ "@-50", "@0" ],
							"close"
						],
						lineWidth: 2,
						fillStyle: "yellow"
					},
					{
						shape: 'polygon',
						points:
						[
							"p3",
							[ "@50", "@0" ],
							[ "@0", "@50" ],
							[ "@-50", "@0" ],
							"close"
						]
					}
				]
			};

			polygons.paint( sample2, "canvas2" );

			sample2.scale = 0.5;
			sample2.rotationDeg = 0;
			polygons.getPrimitives( sample2 ).paint( "canvas3" );

		</script>
	</body>
</html>
